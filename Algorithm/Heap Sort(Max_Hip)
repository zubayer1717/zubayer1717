#include<bits/stdc++.h>
using namespace std;
int n;
void MaX_Heap(int arr[], int x){
int largest=x;
int l=2*x;
int r=2*x + 1;
//int sz=sizeof(arr)/sizeof(arr[0]);
    if(l <=n  && arr[l]>arr[largest]){
            largest=l;
    }

    if(r <= n && arr[r]>arr[largest]){
            largest=r;
    }

    if(largest!=x){
        swap(arr[x],arr[largest]);
        MaX_Heap(arr,largest);
    }
}
void Heap_Sort(int arr[], int x){
    for(int i=x/2; i>=1; i--){
        MaX_Heap(arr,i);
    }
    for(int i=x; i>=1; i--){
            swap(arr[1],arr[i]);
        MaX_Heap(arr,1);
    }


}


int main(){
    cin>>n;
    int Heap[n+2];
    for(int i=1; i<=n; i++) cin>>Heap[i];
    ///10 5 3 2 4
    
    for(int i=n/2; i>=1; i--){
        MaX_Heap(Heap,i);
    }

    for(int i=1; i<=n; i++) cout<<Heap[i]<<" ";
    cout<<"\nAfter Sort\n";
    Heap_Sort(Heap,n);
    for(int i=1; i<=n; i++) cout<<Heap[i]<<" ";
    cout<<"\n";



return 0;
}
